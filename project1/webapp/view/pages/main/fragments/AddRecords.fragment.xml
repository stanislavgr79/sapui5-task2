<core:FragmentDefinition
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout"
    xmlns="sap.m">
    <Dialog
        title="{i18n>dialogCreateTitle}"
        contentWidth="40rem"
        resizable="true">
        <content>
            <l:VerticalLayout class="sapUiContentPadding" width="100%">
                <HBox>
                    <Text 
                        text="{i18n>fieldId}" width="10rem"/>
                    <Input
                        id="addBookId"
                        required="true"
                        type="Number"
                        value="{
                            path: 'books>/newBooks/ID',
                            type: 'sap.ui.model.type.Integer',
                            constraints: { minimum: 0 }
                        }"
                        width="100%">
                        <layoutData>
                            <FlexItemData growFactor="1" />
                        </layoutData>
                    </Input>
                </HBox>
                <HBox>
                    <Text text="{i18n>fieldName}" width="10rem"/>
                    <Input
                        id="addBookName"
                        required="true"
                        core:require="{
                                    Validate: 'project1/validate/validate'
                        }"
                        value="{
                            path: 'books>/newBooks/Name',
                            type: 'sap.ui.model.type.String'
                        }"
                        change="Validate.onValidateName"
                        valueState="{= ${books>/validate/isValidName} === true ? 'None' : 'Error'}"
                        valueStateText="{i18n>valueStateRequired}"
                        width="100%">
                        <layoutData>
                            <FlexItemData growFactor="1" />
                        </layoutData>
                    </Input>
                </HBox>
                <HBox>
                    <Text text="{i18n>fieldAuthor}" width="10rem"/>
                    <Input
                        id="addBookAuthor"
                        required="true"
                        core:require="{
                                    Validate: 'project1/validate/validate'
                        }"
                        value="{
                            path: 'books>/newBooks/Author',
                            type: 'sap.ui.model.type.String'
                        }"
                        change="Validate.onValidateAuthor"
                        valueState="{= ${books>/validate/isValidAuthor} === true ? 'None' : 'Error'}"
                        valueStateText="{i18n>valueStateRequired}"
                        width="100%">
                        <layoutData>
                            <FlexItemData growFactor="1" />
                        </layoutData>
                    </Input>
                </HBox>
                <HBox>
                    <Text text="{i18n>fieldGenre}" width="10rem"/>
                    <Input
                        id="addBookGenre"
                        required="true"
                        core:require="{
                                    Validate: 'project1/validate/validate'
                        }"
                        value="{
                            path: 'books>/newBooks/Genre',
                            type: 'sap.ui.model.type.String'
                        }"
                        change="Validate.onValidateGenre"
                        valueState="{= ${books>/validate/isValidGenre} === true ? 'None' : 'Error'}"
                        valueStateText="{i18n>valueStateRequired}"
                        width="100%">
                        <layoutData>
                            <FlexItemData growFactor="1" />
                        </layoutData>
                    </Input>
                </HBox>
                <HBox>
                    <Text text="{i18n>fieldReleaseDate}" width="10rem"/>
                    <DatePicker
                        id="addBookReleaseDate"
                        required="true"
                        core:require="{
                                    Validate: 'project1/validate/validate'
                        }"
                        value="{
                            path: 'books>/newBooks/ReleaseDate',
                            type: 'sap.ui.model.type.Date',
                            formatOptions: { pattern: 'yyyy-MM-dd' }
                        }"
                        change="Validate.onValidateReleaseDate"
                        valueFormat="yyyy-MM-dd"
                        displayFormat="yyyy-MM-dd"
                        valueState="{= ${books>/validate/isValidReleaseDate} === true ? 'None' : 'Error'}"
                        valueStateText="{i18n>valueStateRequired}"
                        width="100%" />
                </HBox>
                <HBox>
                    <Text text="{i18n>fieldAvailable}" width="10rem"/>
                    <Input
                        id="addBookAvailable"
                        type="Number"
                        value="{
                            path:'books>/newBooks/AvailableQuantity', 
                            type:'sap.ui.model.type.Integer',
                            constraints: { minimum: 0 }
                         }"
                        required="true"
                        width="100%"/>
                </HBox>
            </l:VerticalLayout>
        </content>
        <beginButton>
            <Button
            text="{i18n>addButton}"
            type="Emphasized"
            enabled="{books>/validate/isFormValid}"
            press="addRecord"/>
        </beginButton>
        <endButton>
            <Button text="{i18n>cancelButton}" type="Transparent" press="onCloseAddRecordDialog"/>
        </endButton>
    </Dialog>
</core:FragmentDefinition>